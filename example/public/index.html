<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
<script src="/backbone-autocomplete.js"></script>
<link rel="stylesheet" href="/backbone-autocomplete.css">

<input name="user_name">
<input name="password">

<script>
$(function(){
  Backbone.Autocomplete.DEBUG = true;
  window.autocompleteView = Backbone.Autocomplete.create(
    $("[name=user_name]")[0],
    { url: function(){ return "/pref?q=" + encodeURIComponent(this.query) },
      //selected: new Backbone.Model({label: "JavaScript", value: "JavaScript"})
    }
  );

  window.setInterval(function() {
    console.log($("[name=user_name]").data("Backbone.Autocomplete.View").selected);
  }, 1000);
})
</script>
