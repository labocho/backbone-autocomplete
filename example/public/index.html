<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
<script src="/backbone-autocomplete.js"></script>

<style>
.backbone-autocomplete {
  display: inline;
}
.backbone-autocomplete.is-invalid input {
  border-color: #f00;
}
.backbone-autocomplete-dropdown {
  position: absolute;
  border: 1px solid #ccc;
  background: #fff;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  margin: 0;
  padding: 0;
  list-style-type: none;
  max-height: 150px;
  overflow-y: scroll;
  display: none;
}
.backbone-autocomplete-dropdown > li {
  padding: 5px 10px;
}
.backbone-autocomplete-dropdown > li.is-selected {
  background: #397ad9;
  color: #fff;
}

</style>

<input name="user_name">
<input name="password">

<script>
$(function(){
  Backbone.Autocomplete.DEBUG = true;
  window.autocompleteView = Backbone.Autocomplete.create(
    $("[name=user_name]")[0],
    { url: "/lang",
      selected: new Backbone.Model({label: "JavaScript", value: "JavaScript"})
    }
  );

  window.setInterval(function() {
    console.log($("[name=user_name]").data("Backbone.Autocomplete.View").selected);
  }, 1000);
})
</script>
